module Branch_Target_Buffer (
	input CLK, RESET,
	input [31:0] PC_4,
	input [31:0] IF_Instruction,	//IN
	output reg [31:0] Branch_Addr		//OUT
	);

always @(posedge CLK or posedge RESET)
begin
	if (RESET == 1'b0)
	begin
		Branch_Addr <= 32'b0;
	end
	else
	begin
		if (IF_Instruction[15] == 1'b0)
		begin
			Branch_Addr <= PC_4 + (IF_Instruction[15:0] << 2);
		end
		else
		begin
			Branch_Addr <= PC_4 + 32'b11111111111111000000000000000000 + (IF_Instruction[15:0] << 2);
		end
	end
end

endmodule
